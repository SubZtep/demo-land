doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0")
    title ·d҉e҉m҉o҉.҉l҉a҉n҉d҉
    script(src="https://aframe.io/releases/1.0.4/aframe.min.js")
    script(src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js")
    script(src="https://unpkg.com/aframe-proxy-event-component/dist/aframe-proxy-event-component.min.js")
    // bundle
    link(rel="stylesheet" type="text/css" href="index.css")
    script.
      let unity = null
      const fullscreen = () => {
        const body = document.querySelector("body")
        if (body.className === "p2") {
          body.className = null;
          document.exitFullscreen()
        } else {
          body.requestFullscreen()
          body.className = "p2"
          if (unity === null) {
            unity = document.querySelector("#unity-canvas")
            createUnityInstance(unity, {
              dataUrl: "Build/web-tunnel-unity.data",
              frameworkUrl: "Build/web-tunnel-unity.framework.js",
              codeUrl: "Build/web-tunnel-unity.wasm",
              streamingAssetsUrl: "StreamingAssets",
              companyName: "DemoLand",
              productName: "Web Tunnel",
              productVersion: "0.1",
            })
          }
        }
      }
  body
    canvas#unity-canvas
    a-scene(
      background="color: #ccc"
      fog="type: 'exponential'; near: 0; far: 0; color: #ccc"
      animation__near="property: fog.near; from: 0; to: 15; dur: 5500; delay: 1500; startEvents: loaded"
      animation__far="property: fog.far; from: 0; to: 18; dur: 4000; delay: 1000; startEvents: loaded"
      vr-mode-ui="enabled: false"
      renderer="alpha: false; colorManagement: true; antialias: false; logarithmicDepthBuffer: false; physicallyCorrectLights: true: precision: low")

      a-assets(proxy-event="event: loaded; to: a-scene")
        img#eq(src="images/eq1.gif")

      a-camera(
        look-controls-enabled="false"
        wasd-controls-enabled="false")
      a-entity(
        material="shader: gif; src:url(https://raw.githubusercontent.com/SubZtep/SubZtep/master/assets/eq1.gif);"
        geometry="primitive: box; width: 10; height: 10; depth: 10;"
        position="5 2 -15"
        rotation="-10 20 0")

    .content
      h1(onclick="fullscreen()") demo.land
      p 🚧
      p
        .linkico 🔗
        | 📓
        a(href="https://demo.land/blog/") Blog
      p
        .linkico 🔗
        | 🐦
        a(href="https://twitter.com/SubZtep") @SubZtep
      p 🍭

    .full.middle
      h1(onclick="fullscreen()") demo.land
      .content2
        p
          .linkico 🔗
          | 📓
          a(href="https://demo.land/blog/") Blog
        p
          .linkico 🔗
          | 🐦
          a(href="https://twitter.com/SubZtep") @SubZtep
        p 🍭 :p

    script(src="Build/web-tunnel-unity.loader.js")
